{"version":3,"sources":["components/Balance/Balance.module.css","components/Dashboard/Dashboard.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Controls","state","amount","handleInputChange","transactionInputValue","target","name","value","setState","onDeposit","props","Number","onWithdraw","this","className","stylesControls","controls","input","onChange","type","button","onClick","Component","Balance","balance","income","expenses","stylesBalance","TransactionHistory","items","stylesTransactionHistory","historyContainer","map","el","key","id","date","Dashboard","transactions","moneyTransaction","toast","warn","position","POSITION","TOP_CENTER","newOnDeposit","uuid","Date","toLocaleString","error","newWithdraw","saved","localStorage","getItem","localBalance","JSON","parse","prevState","tasks","setItem","stringify","reduce","acc","item","styles","dashboardContainer","blueBox","transactionHistoryBox","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d52a60e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__30Dlf\",\"income\":\"Balance_income__7RsSw\",\"expenses\":\"Balance_expenses__1btJ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboardContainer\":\"Dashboard_dashboardContainer__2V4GY\",\"blueBox\":\"Dashboard_blueBox__3XZQK\",\"transactionHistoryBox\":\"Dashboard_transactionHistoryBox__jUcjv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"historyContainer\":\"TransactionHistory_historyContainer__2U_E0\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport stylesControls from './Controls.module.css';\n\nexport default class Controls extends Component {\n  static propTypes = {\n    onDeposit: PropTypes.func.isRequired,\n    onWithdraw: PropTypes.func.isRequired,\n  };\n\n  state = {\n    amount: '', // текущее значение инпута\n  };\n\n  handleInputChange = transactionInputValue => {\n    const { name, value } = transactionInputValue.target;\n    this.setState({ [name]: value });\n  };\n\n  onDeposit = () => {\n    const { onDeposit } = this.props;\n    onDeposit(Number(this.state.amount));\n    this.setState({ amount: '' });\n  };\n\n  onWithdraw = () => {\n    const { onWithdraw } = this.props;\n    onWithdraw(Number(this.state.amount));\n    this.setState({ amount: '' });\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={stylesControls.controls}>\n        <input\n          className={stylesControls.input}\n          onChange={this.handleInputChange}\n          type=\"number\"\n          name=\"amount\"\n          value={amount}\n        />\n        <button\n          className={stylesControls.button}\n          onClick={this.onDeposit}\n          type=\"button\"\n        >\n          Deposit\n        </button>\n        <button\n          className={stylesControls.button}\n          onClick={this.onWithdraw}\n          type=\"button\"\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport stylesBalance from './Balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => (\n  <section className={stylesBalance.balance}>\n    <span>\n      <span className={stylesBalance.income}>&#8593;</span>\n      {income}$\n    </span>\n    <span>\n      <span className={stylesBalance.expenses}>&#8595;</span>\n      {expenses}$\n    </span>\n    <span>Balance: {balance}$</span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: PropTypes.number.isRequired,\n  income: PropTypes.number.isRequired,\n  expenses: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport stylesTransactionHistory from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ items }) => (\n  <table className={stylesTransactionHistory.historyContainer}>\n    <thead>\n      <tr>\n        <th>Transaction</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      {items.map(el => (\n        <tr key={el.id}>\n          <td>{el.type}</td>\n          <td>{el.amount}</td>\n          <td>{el.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nexport default TransactionHistory;\n\nTransactionHistory.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      type: PropTypes.string,\n      amount: PropTypes.number,\n      date: PropTypes.string,\n    }),\n  ).isRequired,\n};\n","/* eslint-disable consistent-return */\nimport React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport uuid from 'uuid/v1';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport styles from './Dashboard.module.css';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n  };\n\n  componentDidMount() {\n    const saved = localStorage.getItem('transactions');\n    const localBalance = localStorage.getItem('balance');\n    if (saved) {\n      const transactions = JSON.parse(saved);\n      this.setState({ transactions });\n    }\n    if (localBalance) {\n      const balance = JSON.parse(localBalance);\n      this.setState({ balance });\n    }\n  }\n\n  componentDidUpdate(prevState) {\n    const { transactions, balance } = this.state;\n    if (prevState.tasks !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n      localStorage.setItem('balance', JSON.stringify(balance));\n    }\n  }\n\n  // componentDidMount() {\n  //   const saved = localStorage.getItem('transactions');\n  //   if (saved) {\n  //     const transactions = JSON.parse(saved);\n  //     this.setState({ transactions });\n  //   }\n  // }\n\n  // componentDidUpdate(prevState) {\n  //   const { transactions } = this.state;\n  //   if (prevState.tasks !== transactions) {\n  //     localStorage.setItem('transactions', JSON.stringify(transactions));\n  //   }\n  // }\n\n  onDeposit = moneyTransaction => {\n    if (moneyTransaction === 0) {\n      return toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.TOP_CENTER,\n      });\n    }\n    const newOnDeposit = {\n      id: uuid(),\n      type: 'deposit',\n      amount: moneyTransaction,\n      date: new Date().toLocaleString(),\n    };\n    this.setState(state => ({\n      transactions: [newOnDeposit, ...state.transactions],\n      balance: state.balance + moneyTransaction,\n    }));\n    // return '';\n  };\n\n  onWithdraw = moneyTransaction => {\n    if (moneyTransaction === 0) {\n      return toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.TOP_CENTER,\n      });\n    }\n    if (moneyTransaction > this.state.balance) {\n      return toast.error(\n        'На счету недостаточно средств для проведения операции!',\n        {\n          position: toast.POSITION.TOP_CENTER,\n        },\n      );\n    }\n    const newWithdraw = {\n      id: uuid(),\n      type: 'withdraw',\n      amount: moneyTransaction,\n      date: new Date().toLocaleString(),\n    };\n    this.setState(state => ({\n      transactions: [newWithdraw, ...state.transactions],\n      balance: state.balance - moneyTransaction,\n    }));\n  };\n\n  render() {\n    const { transactions, balance } = this.state;\n\n    const income = transactions.reduce(\n      (acc, item) => (item.type === 'deposit' ? acc + item.amount : acc),\n      0,\n    );\n\n    const expenses = transactions.reduce(\n      (acc, item) => (item.type === 'withdraw' ? acc + item.amount : acc),\n      0,\n    );\n\n    return (\n      <>\n        <div className={styles.dashboardContainer}>\n          <div className={styles.blueBox}>\n            <Controls onDeposit={this.onDeposit} onWithdraw={this.onWithdraw} />\n          </div>\n          <Balance balance={balance} income={income} expenses={expenses} />\n          <div className={styles.transactionHistoryBox}>\n            <TransactionHistory items={transactions} />\n          </div>\n          <ToastContainer />\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport Dashboard from './Dashboard/Dashboard';\n\nconst App = () => (\n  <>\n    <Dashboard />\n  </>\n);\n\nexport default App;\n\n// class App extends Component {\n//   state = {};\n\n//   render() {\n//     return (\n//       <>\n//         <Dashboard />\n//       </>\n//     );\n//   }\n// }\n\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__BY2-d\",\"input\":\"Controls_input__1zU3F\",\"button\":\"Controls_button__31jsY\"};"],"sourceRoot":""}